<%= render 'shared/breadcrumbs', {
  links: [
    {
      text: 'Specialist topic pages',
      href: topics_url
    },
    *([
      text: @archival.tag.parent[:title],
      href: topic_url(@archival.tag.parent)
    ] if @archival.tag.parent.present? ),
    {
      text: @archival.tag[:title],
      href: topic_url(@archival.tag)
    },
    {
      text: 'Archive',
    }
  ]
} %>

<%= govuk_tag_heading(tag: @archival.tag, append: 'Archive specialist topic page') %>

<%= render 'shared/error_summary', object: @archival %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <p class="govuk-body">
      Users who signed up to get emails for this topic will be sent an email that this topic has been archived.
    </p>
    <%= form_for @archival, url: archive_topic_path do |f| %>
      <%= render "govuk_publishing_components/components/input", {
        label: {
          text: "Type in a URL to redirect to a page:"
        },
        hint: 'Please specify it as a relative path (for example "/government/publications/what-hmrc-does-to-prevent-tax-evasion")',
        id: "topic_archival_form_successor_path",
        name: "topic_archival_form[successor_path]",
        error_items: errors_for(@archival, :successor_path)
      } %>

      <%= render "govuk_publishing_components/components/button", {
        text: "Archive and redirect to a page",
        margin_bottom: true,
        destructive: true,
      } %>
    <% end %>
  </div>
</div>
